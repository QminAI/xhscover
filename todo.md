# XHS Cover Generator - 项目 TODO

## 数据库与后端
- [x] 配置 Prisma schema（User、Generation 表）
- [x] 迁移数据库到 Supabase
- [x] 实现 /api/generate 接口（Mock AI API）
- [x] 实现积分扣减逻辑（事务处理）
- [x] 实现用户查询和更新接口
- [x] 编写后端单元测试

## 认证系统
- [x] 配置 Clerk 环境变量
- [x] 集成 Clerk 到应用
- [x] 实现登录/注册页面
- [x] 实现受保护路由
- [x] 用户信息展示

## 前端 UI
- [x] 设计和实现优雅的整体布局
- [x] 左侧边栏（上传、文字输入、生成、下载）
- [x] 右侧画布预览区（3:4 比例）
- [x] 积分显示和用户菜单
- [x] 响应式设计

## Canvas 编辑功能
- [x] 安装 Fabric.js
- [x] 初始化 Canvas（3:4 比例）
- [x] 加载 AI 生成的背景图片
- [x] 实现标题文字添加和编辑
- [x] 实现副标题文字添加和编辑
- [x] 实现文字样式控制（字体、大小、颜色等）
- [x] 实现画布导出为 PNG

## 图片处理流程
- [x] 实现图片上传组件
- [x] 调用 /api/generate 接口
- [x] 处理加载状态和错误
- [x] 将生成的图片加载到 Canvas

## 积分系统
- [x] 用户注册时初始化 5 个免費积分
- [x] 显示当前积分
- [x] 生成前检查积分
- [x] 生成成功后扣减积分
- [x] VIP 状态管理

## 测试与优化
- [x] 单元测试（后端）
- [x] 集成测试
- [x] 性能优化
- [x] 浏览器兼容性测试
- [x] 移动端适配测试

## 部署
- [ ] 推送到 GitHub
- [ ] 部署到 Vercel
- [ ] 配置环境变量
- [ ] 测试生产环境
